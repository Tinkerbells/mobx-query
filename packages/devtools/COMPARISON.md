# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ mobx-query –∏ TanStack Query

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É mobx-query –∏ TanStack Query, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ UI devtools.

## üî¥ –§—É–Ω–∫—Ü–∏–∏ TanStack Query, –û–¢–°–£–¢–°–¢–í–£–Æ–©–ò–ï –≤ mobx-query

### 1. Query State –∏ –°—Ç–∞—Ç—É—Å—ã

#### –°—Ç–∞—Ç—É—Å—ã –∏ —Ñ–ª–∞–≥–∏

| –°–æ—Å—Ç–æ—è–Ω–∏–µ/–§–ª–∞–≥ | TanStack Query | mobx-query | –î–µ–π—Å—Ç–≤–∏–µ –≤ UI |
|---------------|---------------|------------|---------------|
| `status: 'pending'` | ‚úÖ –ï—Å—Ç—å | ‚úÖ –ú–∞–ø–∏—Ç—Å—è –∏–∑ `isIdle \| isLoading` | **–û–°–¢–ê–í–ò–¢–¨** |
| `status: 'success'` | ‚úÖ –ï—Å—Ç—å | ‚úÖ –ú–∞–ø–∏—Ç—Å—è –∏–∑ `isSuccess` | **–û–°–¢–ê–í–ò–¢–¨** |
| `status: 'error'` | ‚úÖ –ï—Å—Ç—å | ‚úÖ –ú–∞–ø–∏—Ç—Å—è –∏–∑ `isError` | **–û–°–¢–ê–í–ò–¢–¨** |
| **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏** |||
| `isIdle` | ‚ùå –ù–µ—Ç | ‚úÖ **–ï–°–¢–¨** - query –Ω–µ –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω | **–î–û–ë–ê–í–ò–¢–¨** Idle badge |
| `isLoading` | ‚úÖ `isFetching` | ‚úÖ **–ï–°–¢–¨** | **–û–°–¢–ê–í–ò–¢–¨** |
| `isSuccess` | ‚úÖ –ï—Å—Ç—å | ‚úÖ **–ï–°–¢–¨** | **–û–°–¢–ê–í–ò–¢–¨** |
| `isError` | ‚úÖ –ï—Å—Ç—å | ‚úÖ **–ï–°–¢–¨** | **–û–°–¢–ê–í–ò–¢–¨** |
| **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è** |||
| `fresh` | ‚úÖ –ï—Å—Ç—å (–ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ—Å—Ç—å stale) | ‚ùå **–ù–ï–¢** | **–£–î–ê–õ–ò–¢–¨** |
| `fetching` | ‚úÖ –ï—Å—Ç—å (`fetchStatus: 'fetching'`) | ‚ùå **–ù–ï–¢** (–µ—Å—Ç—å `isLoading`) | **–£–î–ê–õ–ò–¢–¨** fetchStatus |
| `paused` | ‚úÖ –ï—Å—Ç—å (`fetchStatus: 'paused'`) | ‚ùå **–ù–ï–¢** | **–£–î–ê–õ–ò–¢–¨** –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä paused |
| `stale` | ‚úÖ –ï—Å—Ç—å (`isStale()`) | ‚ùå **–ù–ï–¢** –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ stale | **–£–î–ê–õ–ò–¢–¨** –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä stale |
| `inactive` | ‚úÖ –ï—Å—Ç—å | ‚ùå **–ù–ï–¢** | **–£–î–ê–õ–ò–¢–¨** –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä inactive |

#### –î—Ä—É–≥–∏–µ –æ—Ç–ª–∏—á–∏—è

| –§—É–Ω–∫—Ü–∏—è | TanStack Query | mobx-query | –î–µ–π—Å—Ç–≤–∏–µ –≤ UI |
|---------|---------------|------------|---------------|
| `fetchStatus` | `'fetching' \| 'paused' \| 'idle'` | ‚ùå –¢–æ–ª—å–∫–æ `isLoading` | **–£–î–ê–õ–ò–¢–¨** –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ fetchStatus |
| `dataUpdatedAt` | `number` (timestamp) | ‚ùå –ù–µ—Ç | **–£–î–ê–õ–ò–¢–¨** –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |
| `fetchFailureCount` | `number` | ‚ùå –ù–µ—Ç | **–£–î–ê–õ–ò–¢–¨** —Å—á–µ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ |
| `fetchMeta` | `any` | ‚ùå –ù–µ—Ç | **–£–î–ê–õ–ò–¢–¨** –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç–∞-–¥–∞–Ω–Ω—ã—Ö |
| `isStale()` / staleTime | ‚úÖ –ï—Å—Ç—å | ‚ùå –ù–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ stale | **–£–î–ê–õ–ò–¢–¨** –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä stale/fresh |
| `isDisabled()` | ‚úÖ –ï—Å—Ç—å | ‚ùå –ù–µ—Ç | **–£–î–ê–õ–ò–¢–¨** —Ñ–∏–ª—å—Ç—Ä disabled queries |
| `isPaused()` | ‚úÖ –ï—Å—Ç—å | ‚ùå –ù–µ—Ç | **–£–î–ê–õ–ò–¢–¨** –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä paused |
| `isInvalidated()` | ‚úÖ –ï—Å—Ç—å | ‚ùå –ï—Å—Ç—å `invalidate()`, –Ω–æ –Ω–µ—Ç —Ñ–ª–∞–≥–∞ | **–£–î–ê–õ–ò–¢–¨** –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä invalidated |
| `isStatic()` | ‚úÖ –ï—Å—Ç—å | ‚ùå –ù–µ—Ç | **–£–î–ê–õ–ò–¢–¨** –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä static |

### 2. Query Observers

| –§—É–Ω–∫—Ü–∏—è | TanStack Query | mobx-query | –î–µ–π—Å—Ç–≤–∏–µ –≤ UI |
|---------|---------------|------------|---------------|
| `getObserversCount()` | ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ | ‚ùå –í—Å–µ–≥–¥–∞ 1 (–∑–∞–≥–ª—É—à–∫–∞) | **–£–î–ê–õ–ò–¢–¨/–°–ö–†–´–¢–¨** —Å—á–µ—Ç—á–∏–∫ observers |
| `getObservers()` | ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ | ‚ùå –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ | **–£–î–ê–õ–ò–¢–¨** —Å–ø–∏—Å–æ–∫ observers |

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** mobx-query –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MobX —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤–º–µ—Å—Ç–æ observers. –í MobX –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —á–µ—Ä–µ–∑ `computed` –∏ `reaction`.

### 3. Mutations

| –§—É–Ω–∫—Ü–∏—è | TanStack Query | mobx-query | –î–µ–π—Å—Ç–≤–∏–µ –≤ UI |
|---------|---------------|------------|---------------|
| –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ Mutations | ‚úÖ –ö–µ—à–∏—Ä—É—é—Ç—Å—è —Å ID | ‚ùå –ù–ï –∫–µ—à–∏—Ä—É—é—Ç—Å—è | **–°–ö–†–´–¢–¨** –≤–∫–ª–∞–¥–∫—É Mutations |
| –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö Mutations | ‚úÖ MutationCache | ‚ùå –ù–µ—Ç –∫–µ—à–∞ | **–£–î–ê–õ–ò–¢–¨** –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ mutations |
| Mutation State | ‚úÖ –ï—Å—Ç—å | ‚úÖ –ï—Å—Ç—å (—Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ç—É—Å—ã) | **–û–°–¢–ê–í–ò–¢–¨** –±–∞–∑–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ |

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –í mobx-query Mutation'—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è —Ä–∞–∑–æ–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –Ω–µ –∫–µ—à–∏—Ä—É—é—Ç—Å—è. –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ `mutationSet.create()` —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –Ω–µ–∑–∞–≤–∏—Å–∏–º—É—é Mutation.

### 4. Query Options

| –û–ø—Ü–∏—è | TanStack Query | mobx-query | –î–µ–π—Å—Ç–≤–∏–µ –≤ UI |
|-------|---------------|------------|---------------|
| `staleTime` | ‚úÖ –ï—Å—Ç—å | ‚ùå –ù–µ—Ç | **–£–î–ê–õ–ò–¢–¨** –∏–∑ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| `cacheTime` / `gcTime` | ‚úÖ –ï—Å—Ç—å | ‚ùå WeakRef (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π GC) | **–£–î–ê–õ–ò–¢–¨** –∏–∑ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| `refetchInterval` | ‚úÖ –ï—Å—Ç—å | ‚ùå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `pollingTime` | **–ó–ê–ú–ï–ù–ò–¢–¨** –Ω–∞ pollingTime |
| `refetchOnMount` | ‚úÖ –ï—Å—Ç—å | ‚ùå –ù–µ—Ç | **–£–î–ê–õ–ò–¢–¨** –∏–∑ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| `refetchOnWindowFocus` | ‚úÖ –ï—Å—Ç—å | ‚ùå –ù–µ—Ç | **–£–î–ê–õ–ò–¢–¨** –∏–∑ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| `refetchOnReconnect` | ‚úÖ –ï—Å—Ç—å | ‚ùå –ù–µ—Ç | **–£–î–ê–õ–ò–¢–¨** –∏–∑ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| `enabled` | ‚úÖ –ï—Å—Ç—å | ‚ùå –ù–µ—Ç (–µ—Å—Ç—å `enabledAutoFetch`) | **–ó–ê–ú–ï–ù–ò–¢–¨** –Ω–∞ enabledAutoFetch |

---

## üü¢ –§—É–Ω–∫—Ü–∏–∏ mobx-query, –û–¢–°–£–¢–°–¢–í–£–Æ–©–ò–ï –≤ TanStack Query

### 1. –°—Ç–∞—Ç—É—Å—ã

| –§—É–Ω–∫—Ü–∏—è | mobx-query | TanStack Query | –î–µ–π—Å—Ç–≤–∏–µ –≤ UI |
|---------|-----------|---------------|---------------|
| `isIdle` | ‚úÖ –ó–∞–ø—Ä–æ—Å –Ω–µ –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω | ‚ùå –ï—Å—Ç—å `status: 'pending'` | **–î–û–ë–ê–í–ò–¢–¨** –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ Idle —Å—Ç–∞—Ç—É—Å–∞ |
| `background` | ‚úÖ –§–æ–Ω–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã (`isBackground: true`) | ‚ùå –ù–µ—Ç | **–î–û–ë–ê–í–ò–¢–¨** –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ñ–æ–Ω–æ–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ |

**–ü—Ä–∏–º–µ—Ä background:**
```typescript
{
  background: {
    isLoading: boolean,
    isError: boolean,
    isSuccess: boolean,
    error?: TError
  }
}
```

### 2. InfiniteQuery

| –§—É–Ω–∫—Ü–∏—è | mobx-query | TanStack Query | –î–µ–π—Å—Ç–≤–∏–µ –≤ UI |
|---------|-----------|---------------|---------------|
| `isEndReached` | ‚úÖ –§–ª–∞–≥ –∫–æ–Ω—Ü–∞ —Å–ø–∏—Å–∫–∞ | ‚ùå –ù–µ—Ç | **–î–û–ë–ê–í–ò–¢–¨** –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫–æ–Ω—Ü–∞ —Å–ø–∏—Å–∫–∞ |
| `incrementCount` | ‚úÖ –†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã | ‚úÖ `pageParam` | **–î–û–ë–ê–í–ò–¢–¨** –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ incrementCount |

### 3. –û–ø–µ—Ä–∞—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | mobx-query | TanStack Query | –î–µ–π—Å—Ç–≤–∏–µ –≤ UI |
|---------|-----------|---------------|---------------|
| `forceUpdate(data \| fn)` | ‚úÖ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ | ‚ùå –ù–µ—Ç –ø—Ä—è–º–æ–≥–æ –∞–Ω–∞–ª–æ–≥–∞ | **–î–û–ë–ê–í–ò–¢–¨** –∫–Ω–æ–ø–∫—É Force Update |
| `sync()` vs `async()` | ‚úÖ –î–≤–∞ —Ä–µ–∂–∏–º–∞ –∑–∞–ø—É—Å–∫–∞ | ‚ùå –¢–æ–ª—å–∫–æ async | **–î–û–ë–ê–í–ò–¢–¨** –∏–Ω–¥–∏–∫–∞—Ü–∏—é —Ä–µ–∂–∏–º–∞ |

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

| –§—É–Ω–∫—Ü–∏—è | mobx-query | TanStack Query | –î–µ–π—Å—Ç–≤–∏–µ –≤ UI |
|---------|-----------|---------------|---------------|
| `fetchPolicy` | ‚úÖ `'cache-first' \| 'network-only'` | ‚ùå –°–ª–æ–∂–Ω–µ–µ (staleTime, cacheTime) | **–î–û–ë–ê–í–ò–¢–¨** –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ fetchPolicy |
| `enabledAutoFetch` | ‚úÖ Auto-fetch –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ `data` | ‚ùå –ù–µ—Ç | **–î–û–ë–ê–í–ò–¢–¨** –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä auto-fetch |
| `pollingTime` | ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π polling | ‚ùå –ß–µ—Ä–µ–∑ `refetchInterval` | **–î–û–ë–ê–í–ò–¢–¨** –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ pollingTime |
| `enabledSynchronization` | ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤–∫–ª–∞–¥–æ–∫ (BroadcastChannel) | ‚ùå –ù—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ | **–î–û–ë–ê–í–ò–¢–¨** –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ |

### 5. Invalidation Strategies

| –§—É–Ω–∫—Ü–∏—è | mobx-query | TanStack Query | –î–µ–π—Å—Ç–≤–∏–µ –≤ UI |
|---------|-----------|---------------|---------------|
| `invalidate(...params, strategy)` | ‚úÖ `'partial-match' \| 'chain-match'` | ‚ùå –¢–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á—É | **–î–û–ë–ê–í–ò–¢–¨** –≤—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ |

**–ü—Ä–∏–º–µ—Ä:**
```typescript
// partial-match: –•–æ—Ç—è –±—ã –æ–¥–∏–Ω –∫–ª—é—á —Å–æ–≤–ø–∞–¥–∞–µ—Ç
querySet.invalidate('docId', { sort: 'asc' }, 'partial-match');

// chain-match: –í—Å–µ –∫–ª—é—á–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç
querySet.invalidate('docId', { sort: 'asc' }, 'chain-match');
```

---

## üìä Mapping —Å—Ç–∞—Ç—É—Å–æ–≤

### TanStack Query ‚Üí mobx-query

| TanStack Query | mobx-query | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|---------------|------------|------------|
| `status: 'pending'` | `isIdle: true` –∏–ª–∏ `isLoading: true` | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ |
| `status: 'error'` | `isError: true` | ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–æ |
| `status: 'success'` | `isSuccess: true` | ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–æ |
| `fetchStatus: 'fetching'` | `isLoading: true` | –£–ø—Ä–æ—â–µ–Ω–æ |
| `fetchStatus: 'paused'` | ‚ùå –ù–µ—Ç | - |
| `fetchStatus: 'idle'` | `isLoading: false` | –£–ø—Ä–æ—â–µ–Ω–æ |
| `isStale: true` | ‚ùå –ù–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ | –í—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ –¥–æ invalidate |
| `isFetching: true` | `isLoading: true` | ‚úÖ –ê–Ω–∞–ª–æ–≥ |

### –°—Ç–∞—Ç—É—Å—ã mobx-query

```typescript
type QueryStatus = {
  isIdle: boolean;      // ‚Üê –£–Ω–∏–∫–∞–ª—å–Ω–æ –¥–ª—è mobx-query
  isLoading: boolean;
  isSuccess: boolean;
  isError: boolean;
  error?: TError;
};

// –ï—Å–ª–∏ isBackground: true
type BackgroundStatus = {
  isLoading: boolean;   // ‚Üê –£–Ω–∏–∫–∞–ª—å–Ω–æ –¥–ª—è mobx-query
  isSuccess: boolean;
  isError: boolean;
  error?: TError;
};
```

---

## üé® –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ UI Devtools

### –£–¥–∞–ª–∏—Ç—å –∏–∑ UI:

1. ‚ùå **–í–∫–ª–∞–¥–∫–∞ Mutations** - —Å–∫—Ä—ã—Ç—å –∏–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å mutations (—Å–µ–π—á–∞—Å –≤—Å–µ–≥–¥–∞ –ø—É—Å—Ç–∞—è)
2. ‚ùå **–§–∏–ª—å—Ç—Ä "Hide Disabled Queries"** - –Ω–µ—Ç disabled queries
3. ‚ùå **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:**
   - Stale/Fresh badge
   - Paused status
   - Invalidated status
   - Static status
   - Observers count (–∏–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ–≥–¥–∞ "1")
4. ‚ùå **–ü–æ–ª—è –≤ Query Details:**
   - `dataUpdatedAt`
   - `fetchFailureCount`
   - `fetchMeta`
   - `isStale()`
   - `isDisabled()`
   - `isPaused()`
   - `isInvalidated()`
   - `isStatic()`
   - `fetchStatus`
5. ‚ùå **–ö–Ω–æ–ø–∫–∏:**
   - "Trigger Loading" (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è paused)
   - "Trigger Error" (–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)

### –î–æ–±–∞–≤–∏—Ç—å –≤ UI:

1. ‚úÖ **–°—Ç–∞—Ç—É—Å—ã:**
   - Idle badge (—Å–µ—Ä—ã–π —Ü–≤–µ—Ç, –∫–æ–≥–¥–∞ `isIdle: true`)
   - Background loading indicator (–∫–æ–≥–¥–∞ `background.isLoading: true`)
2. ‚úÖ **InfiniteQuery –ø–æ–ª—è:**
   - `isEndReached` - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫–æ–Ω—Ü–∞ —Å–ø–∏—Å–∫–∞
   - `incrementCount` - —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
3. ‚úÖ **–ö–Ω–æ–ø–∫–∏:**
   - "Force Update" - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
   - "Fetch More" - –¥–ª—è InfiniteQuery
4. ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ Query Details:**
   - `fetchPolicy`: 'cache-first' | 'network-only'
   - `enabledAutoFetch`: boolean
   - `pollingTime`: number | undefined
   - `isBackground`: boolean
5. ‚úÖ **Invalidation:**
   - –í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏: 'partial-match' | 'chain-match'

---

## üîß –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è):

1. **–°–∫—Ä—ã—Ç—å/—É–¥–∞–ª–∏—Ç—å –≤–∫–ª–∞–¥–∫—É Mutations** - –æ–Ω–∞ –≤—Å–µ–≥–¥–∞ –ø—É—Å—Ç–∞—è –≤ mobx-query
2. **–£–¥–∞–ª–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä "Hide Disabled Queries"** - –Ω–µ—Ç disabled queries
3. **–î–æ–±–∞–≤–∏—Ç—å Idle —Å—Ç–∞—Ç—É—Å** - —ç—Ç–æ –≤–∞–∂–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ mobx-query
4. **–£–¥–∞–ª–∏—Ç—å stale/fresh –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã** - –Ω–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ stale time

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—É–ª—É—á—à–µ–Ω–∏–µ UX):

1. **–î–æ–±–∞–≤–∏—Ç—å background loading indicator** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–æ–Ω–æ–≤—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
2. **–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É Force Update** - —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
3. **–ü–æ–∫–∞–∑–∞—Ç—å fetchPolicy –≤ –¥–µ—Ç–∞–ª—è—Ö** - –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
4. **–î–æ–±–∞–≤–∏—Ç—å isEndReached –¥–ª—è InfiniteQuery** - —É–¥–æ–±–Ω–æ –≤–∏–¥–µ—Ç—å

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ):

1. –£–¥–∞–ª–∏—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ –ø–æ–ª—è –∏–∑ Query State (dataUpdatedAt, fetchMeta, etc.)
2. –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ pollingTime
3. –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤–∫–ª–∞–¥–æ–∫
4. –î–æ–±–∞–≤–∏—Ç—å –≤—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –ü–æ—á–µ–º—É –Ω–µ—Ç Observers –≤ mobx-query?

TanStack Query –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä—É—á–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É —á–µ—Ä–µ–∑ observers. –í mobx-query —ç—Ç–æ –Ω–µ –Ω—É–∂–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ MobX –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

**TanStack Query:**
```typescript
const observer = queryClient.getQueryData(['key']);
observer.subscribe(() => console.log('updated'));
```

**mobx-query:**
```typescript
import { autorun } from 'mobx';

autorun(() => {
  console.log('updated:', query.data);
});
```

### –ü–æ—á–µ–º—É –Ω–µ—Ç Stale Time?

–í mobx-query –¥–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ —Å—á–∏—Ç–∞—é—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω `invalidate()`. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –º–µ–Ω—Ç–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å –∏ –¥–µ–ª–∞–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º.

### –ü–æ—á–µ–º—É Mutations –Ω–µ –∫–µ—à–∏—Ä—É—é—Ç—Å—è?

–í mobx-query mutations –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è —Ä–∞–∑–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (POST/PUT/DELETE). –û–Ω–∏ –Ω–µ –∏–º–µ—é—Ç —Å–º—ã—Å–ª–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫ –∫–∞–∫ –∫–∞–∂–¥–∞—è –º—É—Ç–∞—Ü–∏—è - —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ. –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –º—É—Ç–∞—Ü–∏–∏, –æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Query —á–µ—Ä–µ–∑ `forceUpdate()` –∏–ª–∏ `invalidate()`.

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫-–ª–∏—Å—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

- [ ] –°–∫—Ä—ã—Ç—å –≤–∫–ª–∞–¥–∫—É Mutations –∏–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å "No mutations in mobx-query"
- [ ] –£–¥–∞–ª–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä "Hide Disabled Queries"
- [ ] –£–¥–∞–ª–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã: Stale, Paused, Invalidated, Static
- [ ] –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—è: dataUpdatedAt, fetchFailureCount, fetchMeta, fetchStatus
- [ ] –î–æ–±–∞–≤–∏—Ç—å Idle —Å—Ç–∞—Ç—É—Å badge (—Å–µ—Ä—ã–π)
- [ ] –î–æ–±–∞–≤–∏—Ç—å Background loading indicator
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "Force Update"
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ fetchPolicy
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ enabledAutoFetch
- [ ] –î–æ–±–∞–≤–∏—Ç—å isEndReached –¥–ª—è InfiniteQuery
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã –≤ bridge (MobxQueryDevTools.tsx)
